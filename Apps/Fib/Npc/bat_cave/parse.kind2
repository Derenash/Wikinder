#kdl_name = Fib_npc_bcpr
Apps.Fib.Npc.bat_cave.parse (id: Apps.Fib.Id) (entity: Apps.Fib.Entity) : Apps.Fib.Attributes {
  let can_spawn = U120.is_zero entity
  let status    = if can_spawn {"ready"} else {"not ready"}
  [
    (Pair.new (Kindelia.Convert.to_kstring "type")   (Kindelia.Convert.to_kstring "bat cave"))
    (Pair.new (Kindelia.Convert.to_kstring "id")     (Kindelia.Convert.num_to_kstring (U120.sub id (U120.new 0 128))))
    (Pair.new (Kindelia.Convert.to_kstring "status") (Kindelia.Convert.to_kstring status)) 
  ]
}